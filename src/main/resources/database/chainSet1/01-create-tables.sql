-- --liquibase formatted sql
-- --changeset userName:1
-- DROP TABLE entity;
-- CREATE TABLE entity (
--     id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
--     name VARCHAR(255) NOT NULL
-- );

--
-- DROP TABLE address CASCADE;
-- DROP TABLE clothes CASCADE;
-- DROP TABLE days_list CASCADE;
-- DROP TABLE food CASCADE;
-- DROP TABLE other CASCADE;
-- DROP TABLE request CASCADE;
-- DROP TABLE request_resource_list CASCADE;
-- DROP TABLE request_task_list CASCADE;
-- DROP TABLE requester CASCADE;
-- DROP TABLE resource CASCADE;
-- DROP TABLE shelter CASCADE;
-- DROP TABLE task CASCADE;

-- DROP TABLE day CASCADE;
-- DROP TABLE request_resource CASCADE;

-- DROP TABLE databasechangelog CASCADE;
-- DROP TABLE databasechangeloglock CASCADE;


-- CREATE TABLE resource
-- (
--     id      BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
--     name    VARCHAR(255),
--     amount  INTEGER                                 NOT NULL,
--     to_give BOOLEAN                                 NOT NULL,
--     CONSTRAINT pk_resource PRIMARY KEY (id)
-- );
--
-- CREATE TABLE clothes
-- (
--     id   BIGINT NOT NULL,
--     size VARCHAR(255),
--     sex  VARCHAR(255),
--     CONSTRAINT pk_clothes PRIMARY KEY (id)
-- );
--
-- ALTER TABLE clothes
--     ADD CONSTRAINT FK_CLOTHES_ON_ID FOREIGN KEY (id) REFERENCES resource (id);
--
-- CREATE TABLE food
-- (
--     id           BIGINT  NOT NULL,
--     temperature  VARCHAR(255),
--     allergy_free BOOLEAN NOT NULL,
--     CONSTRAINT pk_food PRIMARY KEY (id)
-- );
--
-- ALTER TABLE food
--     ADD CONSTRAINT FK_FOOD_ON_ID FOREIGN KEY (id) REFERENCES resource (id);
--
-- CREATE TABLE other
-- (
--     id          BIGINT NOT NULL,
--     description VARCHAR(255),
--     CONSTRAINT pk_other PRIMARY KEY (id)
-- );
--
-- ALTER TABLE other
--     ADD CONSTRAINT FK_OTHER_ON_ID FOREIGN KEY (id) REFERENCES resource (id);
--
-- CREATE TABLE shelter
-- (
--     id           BIGINT  NOT NULL,
--     with_animals BOOLEAN NOT NULL,
--     CONSTRAINT pk_shelter PRIMARY KEY (id)
-- );
--
-- ALTER TABLE shelter
--     ADD CONSTRAINT FK_SHELTER_ON_ID FOREIGN KEY (id) REFERENCES resource (id);
--
-- CREATE TABLE address
-- (
--     id      BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
--     address VARCHAR(255),
--     CONSTRAINT pk_address PRIMARY KEY (id)
-- );
--
-- CREATE TABLE requester
-- (
--     id         BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
--     first_name VARCHAR(255)                            NOT NULL,
--     last_name  VARCHAR(255),
--     CONSTRAINT pk_requester PRIMARY KEY (id)
-- );
--
-- CREATE TABLE request
-- (
--     id           BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
--     requester_id BIGINT                                  NOT NULL,
--     address_id   BIGINT                                  NOT NULL,
--     accomplished BOOLEAN                                 NOT NULL,
--     start_date   TIMESTAMP WITHOUT TIME ZONE             NOT NULL,
--     end_date     TIMESTAMP WITHOUT TIME ZONE,
--     CONSTRAINT pk_request PRIMARY KEY (id)
-- );
--
-- ALTER TABLE request
--     ADD CONSTRAINT FK_REQUEST_ON_ADDRESS FOREIGN KEY (address_id) REFERENCES address (id);
--
-- ALTER TABLE request
--     ADD CONSTRAINT FK_REQUEST_ON_REQUESTER FOREIGN KEY (requester_id) REFERENCES requester (id);
--
-- CREATE TABLE task
-- (
--     id         BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
--     resource   BIGINT                                  NOT NULL,
--     request_id BIGINT,
--     CONSTRAINT pk_task PRIMARY KEY (id)
-- );
--
-- ALTER TABLE task
--     ADD CONSTRAINT uc_task_resource UNIQUE (resource);
--
-- ALTER TABLE task
--     ADD CONSTRAINT FK_TASK_ON_REQUEST FOREIGN KEY (request_id) REFERENCES request (id);
--
-- ALTER TABLE task
--     ADD CONSTRAINT FK_TASK_ON_RESOURCE FOREIGN KEY (resource) REFERENCES resource (id);
--
-- CREATE TABLE request_resource
-- (
--     id          BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
--     request_id  BIGINT,
--     resource_id BIGINT,
--     CONSTRAINT pk_request_resource PRIMARY KEY (id)
-- );
--
-- ALTER TABLE request_resource
--     ADD CONSTRAINT FK_REQUEST_RESOURCE_ON_REQUEST FOREIGN KEY (request_id) REFERENCES request (id);
--
-- ALTER TABLE request_resource
--     ADD CONSTRAINT FK_REQUEST_RESOURCE_ON_RESOURCE FOREIGN KEY (resource_id) REFERENCES resource (id);
--
-- CREATE TABLE day
-- (
--     id        BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
--     task_id   BIGINT,
--     status    VARCHAR(255)                            NOT NULL,
--     day_index INTEGER                                 NOT NULL,
--     time      TIMESTAMP WITHOUT TIME ZONE,
--     CONSTRAINT pk_day PRIMARY KEY (id)
-- );
--
-- ALTER TABLE day
--     ADD CONSTRAINT FK_DAY_ON_TASK FOREIGN KEY (task_id) REFERENCES task (id);


-- ALTER TABLE requester RENAME COLUMN first_name TO firstname;

-- ALTER TABLE requester RENAME COLUMN last_name TO lastname;

-- ALTER TABLE requester RENAME COLUMN first_name TO firstname;

-- DROP TABLE databasechangelog CASCADE;
-- DROP TABLE databasechangeloglock CASCADE;

-- ALTER TABLE request RENAME COLUMN start_date TO startdate;
-- ALTER TABLE request RENAME COLUMN end_date TO enddate;

-- ALTER TABLE resource RENAME COLUMN to_give TO togive;

-- ALTER TABLE food RENAME COLUMN allergy_free TO allergyfree;

-- ALTER TABLE shelter RENAME COLUMN with_animals TO withanimals;

-- ALTER TABLE day RENAME COLUMN day_index TO dayindex;

